<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Szócsoport teszt</title>
<style>
body { font-family: -apple-system, sans-serif; padding:20px; }
input, button, select { width:100%; padding:12px; margin-top:8px; font-size:16px; }
button { background:#007AFF; color:white; border:none; border-radius:8px; }
.list { margin-top:12px; font-size:14px; }
</style>
</head>
<body>

<h2>Szócsoport</h2>
<input id="groupName" placeholder="pl. Próba 1">
<button id="addGroup">Szócsoport létrehozása</button>

<select id="groups"></select>

<h3>Új szó</h3>
<input id="foreign" placeholder="idegen szó">
<input id="hu" placeholder="magyar jelentés">
<button id="addWord">Szó hozzáadása</button>

<div class="list" id="list"></div>

<script>
const groupName = document.getElementById("groupName");
const groups = document.getElementById("groups");
const foreign = document.getElementById("foreign");
const hu = document.getElementById("hu");
const list = document.getElementById("list");

let data = JSON.parse(localStorage.getItem("data") || "{}");

function save() {
  localStorage.setItem("data", JSON.stringify(data));
}

function refreshGroups() {
  groups.innerHTML = "";
  Object.keys(data).forEach(g => {
    const o = document.createElement("option");
    o.value = g;
    o.textContent = g;
    groups.appendChild(o);
  });
  renderList();
}

function renderList() {
  list.innerHTML = "";
  const g = groups.value;
  if (!g) return;
  data[g].forEach(w => {
    const d = document.createElement("div");
    d.textContent = `${w.f} – ${w.h}`;
    list.appendChild(d);
  });
}

document.getElementById("addGroup").onclick = () => {
  const n = groupName.value.trim();
  if (!n || data[n]) return alert("Érvénytelen vagy létező név");
  data[n] = [];
  save();
  refreshGroups();
  groups.value = n;
  groupName.value = "";
};

document.getElementById("addWord").onclick = () => {
  const g = groups.value;
  if (!g) return alert("Nincs szócsoport");
  if (!foreign.value || !hu.value) return;
  data[g].push({ f: foreign.value, h: hu.value });
  save();
  foreign.value = hu.value = "";
  renderList();
};

groups.onchange = renderList;

refreshGroups();
</script>

</body>
</html>
