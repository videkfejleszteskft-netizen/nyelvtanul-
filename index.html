<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Nyelvtanul√≥</title>

<style>
body { font-family: -apple-system, sans-serif; padding: 20px; }
input, textarea, select, button {
  width: 100%; padding: 12px; margin-top: 8px; font-size: 16px;
}
textarea { height: 100px; }
button { background:#007AFF; color:white; border:none; border-radius:8px; }
button.secondary { background:#999; }
.section { margin-top:24px; padding-top:10px; border-top:1px solid #ccc; }
</style>
</head>

<body>

<h2>üìÅ Sz√≥csoport</h2>
<input id="groupNameInput" placeholder="√öj sz√≥csoport neve">
<button id="createGroupBtn">Sz√≥csoport l√©trehoz√°sa</button>
<select id="groupSelect"></select>

<div class="section">
<h3>‚ûï Egy sz√≥</h3>
<input id="foreignInput" placeholder="Idegen sz√≥">
<input id="huInput" placeholder="Magyar jelent√©s">
<button id="addSingleBtn">Hozz√°ad√°s</button>
</div>

<div class="section">
<h3>üìã T√∂meges bevitel</h3>
<textarea id="bulkInput" placeholder="andare - menni"></textarea>
<button id="addBulkBtn">Szavak hozz√°ad√°sa</button>
</div>

<div class="section">
<h3>‚ñ∂Ô∏è Lej√°tsz√°s</h3>
<input id="delayInput" type="number" value="3">
<input id="repeatInput" type="number" value="3">
<button id="startBtn">START</button>
<button class="secondary" id="pauseBtn">PAUSE</button>
<button class="secondary" id="resumeBtn">RESUME</button>
<button class="secondary" id="stopBtn">STOP</button>
</div>

<script>
/* ===== DOM ===== */
const groupNameInput = document.getElementById("groupNameInput");
const groupSelect = document.getElementById("groupSelect");
const foreignInput = document.getElementById("foreignInput");
const huInput = document.getElementById("huInput");
const bulkInput = document.getElementById("bulkInput");
const delayInput = document.getElementById("delayInput");
const repeatInput = document.getElementById("repeatInput");

/* ===== DATA ===== */
let store = JSON.parse(localStorage.getItem("groups") || "{}");

/* ===== HELPERS ===== */
function save() {
  localStorage.setItem("groups", JSON.stringify(store));
}
function refreshGroups() {
  groupSelect.innerHTML = "";
  Object.keys(store).forEach(g => {
    const o = document.createElement("option");
    o.value = g; o.textContent = g;
    groupSelect.appendChild(o);
  });
}
refreshGroups();

function currentGroup() {
  return groupSelect.value;
}

/* ===== ACTIONS ===== */
document.getElementById("createGroupBtn").onclick = () => {
  const name = groupNameInput.value.trim();
  if (!name || store[name]) return alert("√ârv√©nytelen vagy l√©tez≈ë n√©v");
  store[name] = [];
  save();
  refreshGroups();
  groupSelect.value = name;
  groupNameInput.value = "";
};

document.getElementById("addSingleBtn").onclick = () => {
  const g = currentGroup();
  if (!g) return alert("Nincs sz√≥csoport");
  if (!foreignInput.value || !huInput.value) return;
  store[g].push({ f: foreignInput.value, h: huInput.value });
  save();
  foreignInput.value = huInput.value = "";
};

document.getElementById("addBulkBtn").onclick = () => {
  const g = currentGroup();
  if (!g) return alert("Nincs sz√≥csoport");
  bulkInput.value.split("\n").forEach(l => {
    const p = l.split(/[-=‚Äì\t]/);
    if (p.length >= 2) {
      store[g].push({ f: p[0].trim(), h: p.slice(1).join("-").trim() });
    }
  });
  bulkInput.value = "";
  save();
};
</script>

</body>
</html>
