<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sz√≥csoport ‚Äì stabil alap</title>

<style>
body {
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
  padding: 20px;
}
h2, h3 {
  margin-top: 20px;
}
input, select, button {
  width: 100%;
  padding: 12px;
  margin-top: 8px;
  font-size: 16px;
}
button {
  background: #007AFF;
  color: white;
  border: none;
  border-radius: 8px;
}
.list {
  margin-top: 10px;
  font-size: 15px;
}
.list div {
  padding: 4px 0;
}
hr {
  margin-top: 25px;
}
</style>
</head>

<body>

<h2>üìÅ Sz√≥csoportok</h2>

<input id="groupInput" placeholder="√öj sz√≥csoport neve">
<button id="createGroupBtn">Sz√≥csoport l√©trehoz√°sa</button>

<select id="groupSelect"></select>

<hr>

<h3>‚ûï √öj sz√≥ hozz√°ad√°sa</h3>

<input id="foreignInput" placeholder="Idegen sz√≥">
<input id="huInput" placeholder="Magyar jelent√©s">
<button id="addWordBtn">Sz√≥ hozz√°ad√°sa</button>

<div class="list" id="wordList"></div>

<script>
/* ===== DOM ===== */
const groupInput = document.getElementById("groupInput");
const groupSelect = document.getElementById("groupSelect");
const foreignInput = document.getElementById("foreignInput");
const huInput = document.getElementById("huInput");
const wordList = document.getElementById("wordList");

/* ===== ADAT ===== */
let data = JSON.parse(localStorage.getItem("wordData") || "{}");

/* ===== SEG√âD ===== */
function save() {
  localStorage.setItem("wordData", JSON.stringify(data));
}

function refreshGroups() {
  groupSelect.innerHTML = "";
  Object.keys(data).forEach(name => {
    const opt = document.createElement("option");
    opt.value = name;
    opt.textContent = name;
    groupSelect.appendChild(opt);
  });
  renderWords();
}

function renderWords() {
  wordList.innerHTML = "";
  const g = groupSelect.value;
  if (!g || !data[g]) return;
  data[g].forEach(pair => {
    const d = document.createElement("div");
    d.textContent = `${pair.foreign} ‚Äì ${pair.hu}`;
    wordList.appendChild(d);
  });
}

/* ===== ESEM√âNYEK ===== */
document.getElementById("createGroupBtn").onclick = () => {
  const name = groupInput.value.trim();
  if (!name) {
    alert("Adj meg egy nevet!");
    return;
  }
  if (data[name]) {
    alert("Ilyen sz√≥csoport m√°r l√©tezik!");
    return;
  }
  data[name] = [];
  save();
  refreshGroups();
  groupSelect.value = name;
  groupInput.value = "";
};

document.getElementById("addWordBtn").onclick = () => {
  const g = groupSelect.value;
  if (!g) {
    alert("Nincs kiv√°lasztott sz√≥csoport!");
    return;
  }
  const f = foreignInput.value.trim();
  const h = huInput.value.trim();
  if (!f || !h) {
    alert("Mindk√©t mez≈ët t√∂ltsd ki!");
    return;
  }
  data[g].push({ foreign: f, hu: h });
  save();
  foreignInput.value = "";
  huInput.value = "";
  renderWords();
};

groupSelect.onchange = renderWords;

/* ===== INDUL√ÅS ===== */
refreshGroups();
</script>

</body>
</html>
