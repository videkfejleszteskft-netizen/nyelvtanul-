<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NyelvtanulÃ³ â€“ SzÃ³csoportok</title>

<style>
body {
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
  padding: 20px;
}
input, textarea, select, button {
  width: 100%;
  padding: 12px;
  margin-top: 8px;
  font-size: 16px;
}
textarea {
  height: 120px;
}
button {
  background: #007AFF;
  color: white;
  border: none;
  border-radius: 8px;
}
.section {
  margin-top: 25px;
  padding-top: 10px;
  border-top: 1px solid #ccc;
}
.wordlist {
  margin-top: 10px;
  font-size: 14px;
}
.wordlist div {
  padding: 4px 0;
}
</style>
</head>

<body>

<h2>ğŸ“ SzÃ³csoportok</h2>

<input id="newGroup" placeholder="Ãšj szÃ³csoport neve">
<button onclick="addGroup()">SzÃ³csoport lÃ©trehozÃ¡sa</button>

<select id="groupSelect" onchange="renderWords()"></select>

<div class="section">
<h3>â• Egy szÃ³ hozzÃ¡adÃ¡sa</h3>
<input id="singleForeign" placeholder="Idegen szÃ³">
<input id="singleHu" placeholder="Magyar jelentÃ©s">
<button onclick="addSingleWord()">HozzÃ¡adÃ¡s</button>
</div>

<div class="section">
<h3>ğŸ“‹ TÃ¶meges szÃ³beillesztÃ©s</h3>
<textarea id="bulkInput" placeholder="andare - menni&#10;venire = jÃ¶nni"></textarea>
<button onclick="addBulkWords()">Szavak hozzÃ¡adÃ¡sa</button>
</div>

<div class="section">
<h3>ğŸ“„ Szavak ebben a csoportban</h3>
<div class="wordlist" id="wordList"></div>
</div>

<div class="section">
<h3>â–¶ï¸ LejÃ¡tszÃ¡s</h3>
<button onclick="startPlayback()">KijelÃ¶lt szÃ³csoport lejÃ¡tszÃ¡sa</button>
</div>

<script>
let data = JSON.parse(localStorage.getItem("wordGroups") || "{}");

function save() {
  localStorage.setItem("wordGroups", JSON.stringify(data));
}

function addGroup() {
  const name = document.getElementById("newGroup").value.trim();
  if (!name || data[name]) return;
  data[name] = [];
  save();
  document.getElementById("newGroup").value = "";
  refreshGroups();
}

function refreshGroups() {
  const sel = document.getElementById("groupSelect");
  sel.innerHTML = "";
  Object.keys(data).forEach(g => {
    const o = document.createElement("option");
    o.value = g;
    o.textContent = g;
    sel.appendChild(o);
  });
  renderWords();
}

function currentGroup() {
  return document.getElementById("groupSelect").value;
}

function addSingleWord() {
  const f = document.getElementById("singleForeign").value.trim();
  const h = document.getElementById("singleHu").value.trim();
  if (!f || !h) return;
  data[currentGroup()].push({ foreign: f, hu: h });
  save();
  document.getElementById("singleForeign").value = "";
  document.getElementById("singleHu").value = "";
  renderWords();
}

function addBulkWords() {
  const lines = document.getElementById("bulkInput").value.split("\n");
  lines.forEach(l => {
    const parts = l.split(/[-=â€“\t]/);
    if (parts.length >= 2) {
      data[currentGroup()].push({
        foreign: parts[0].trim(),
        hu: parts.slice(1).join("-").trim()
      });
    }
  });
  document.getElementById("bulkInput").value = "";
  save();
  renderWords();
}

function renderWords() {
  const list = document.getElementById("wordList");
  list.innerHTML = "";
  const g = currentGroup();
  if (!g) return;
  data[g].forEach(w => {
    const d = document.createElement("div");
    d.textContent = `${w.foreign} â€“ ${w.hu}`;
    list.appendChild(d);
  });
}

function startPlayback() {
  const g = currentGroup();
  if (!g) return;
  alert(`A(z) "${g}" szÃ³csoport ${data[g].length} szÃ³t tartalmaz.\n\nA hangos lejÃ¡tszÃ¡s a kÃ¶vetkezÅ‘ lÃ©pÃ©sben jÃ¶n ğŸ˜‰`);
}

refreshGroups();
</script>

</body>
</html>

